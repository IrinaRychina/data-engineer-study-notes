* плюсы и минусы mpp архитектуры в гринплам
Достоинства:

Быстрота обработки больших объемов данных 
SQL Conformance 
Легкое горизонательное масштабирование
Отказоустойчивость за счет создания релик/зеркал
Стандартное Hardware для сегментов
Row / Column store
Сжатие хранимых данных
Параллельная загрузка частей данных напрямую в шарды
Cloud Compatibility. Совместимость с облачными решениями.

Недостатки:

Высокие требования к элементам инфраструктуры
Низкая производительность на OLTP профиле нагрузки
Ограничения в поддержке всех функций SQL
Возможности возникновения перекосов данных
Специфическая поддержка и обслуживание

* как устроен резервный мастер в гринплам, что он делает пока простаивает, нужно ли его поддерживать в актуальном состоянии?
Резервный мастер в Greenplum – это "теплый" резерв, который синхронизируется с основным мастером с помощью репликации журнала транзакций. 
Пока основной мастер активен, резервный мастер не выполняет никаких функций и не содержит пользовательских данных, 
а только копии системного каталога. Резервный мастер необходимо поддерживать в актуальном состоянии, 
поскольку при выходе из строя основного, он активируется и принимает на себя функции мастер-узла, используя реплицированные журналы 
для восстановления состояния.

* какие есть виды зеркалирования первичных сегментов?
При инициализации или расширении системы Greenplum доступны две стандартные конфигурации зеркалирования. 
В конфигурации по умолчанию, называемой групповым зеркалированием, все зеркала первичных сегментов хоста размещаются на одном другом хосте кластера. 
Другая стандартная конфигурация, разнесенное зеркалирование, может быть выбрана с помощью опции командной строки. 
Разнесенное зеркалирование распределяет зеркала каждого хоста по остальным хостам и требует, чтобы в кластере было больше хостов, чем первичных сегментов на один хост.

* что такое выоская и малая кардинальность?
Высокая кардинальность указывает на большое количество уникальных значений, низкая кардинальность - повторяющиеся данные.

* когда имеет смысл использовать индексы в гринплам?

Использовать индексы в Greenplum следует с осторожностью и в ограниченных случаях, когда:

запросы имеют высокую селективность (возвращают небольшое количество строк); 

используются сжатые таблицы (append-optimized), так как индексы позволяют избежать распаковки ненужных страниц; 
применяются рабочие нагрузки OLTP, где требуется быстрое извлечение отдельных записей; 
столбцы редко обновляются, так как индексы замедляют операции записи. 

Не имеет смысла использовать индексы, если:

рабочие нагрузки ориентированы на аналитику (BI) и возвращают большие наборы данных; 

столбцы часто обновляются, так как это замедляет загрузку и модификацию данных; 
таблицы являются многораздельные (партиционированные), а столбцы индекса совпадают со столбцами разделов. 


>  source https://halltape.github.io/HalltapeRoadmapDE/QUESTION/GreenPlum/
* Что такое GreenPlum? 
массово-параллельная (massive parallel processing - mpp) без разделения ресурсов субд на основе postgresql для хранения и обработки больших данных (до сотен тб).
Соответствует принципам ACID.

* Что такое дистрибуция и какие виды существуют? 
это физическое разделение данных по сегментам.
Существуют три вида дистрибьюции:
1. distributed by
это дистрибьюция по хэшам указанных полей
2. distributed randomly
планировщик сам равномерно разпределяет данные по всем сегментам. Этот метод для таблиц, в которых отсутствует или сложно определить ключ для равномерного распределения. При соединеннии с другими таблицами будет всегда перераспределение данных
3. distributed replicated
на каждом сегменте хранится полная копия таблицы. Такой метод подходит для небольших таблиц.

Правила при выборе ключа дистрибьюции:
1. использовать поле с высокой селективностью (идентификаторы) 
2. отсутствие null или значений по умолчанию

Рекомендации:

явно задавать ключ распределения при создании таблицы, в том числе для временных таблиц
избегать указывать в качестве ключа атрибутов которые будете часто указывать в WHERE
избегать указывать в качестве ключа атрибуты с типом date, timestamp
предпочтительно использовать в качестве ключа тип int
предпочтительно использовать в качестве ключа столбцы, которые участвуют как ключ соединения (JOIN)

* Что такое партицирование и какие виды существуют? 
Логическое разделение на части по определенному критерию.
на больших таблицах значительно улучшает производительность
упрощает сопровождение БД

Если таблица поделена на 6 партиций, то на каждом сегменте будет по 6 партиций. Запросы будут выполняться быстрее, за счет того, что на каждом сегменте будет сканироваться только часть таблицы.

Виды партиционирования:
PARTITION BY RANGE - по диапазону значений
PARTITION BY LIST - по списку значений
PARTITION BY … SUBPARTITION BY … многоуровеневое - комбинация предыдущих типов

Можно указывать:

имя для каждой партиции
отличающиеся диапазоны для партиций
отличающиеся опции хранения
можно создать партицию по умолчанию (DEFAULT) для значений, не удовлетворяющих условиям других партиций

Нельзя:

указать разные ключи дистрибьюции для партиций одной таблицы
поменять тип партиционирования для существующей таблицы без пересоздания

Рекомендации:

применять только на больших таблицах
только если фильтры (WHERE) будут исключать часть партиций из просмотра
когда нужно обеспечить скользящие окно данных при периодической загрузке или архивации
стараться выбирать по диапазону, а не по списку
партиционировать по часто используемому столбцу
убедиться, что запросы выборочно просматривают партиции, исключая ненужные (EXPLAIN)
выбирать наилучший способ физического хранения для разных партиций (например, по строкам / по колонкам)

Не рекомендуется:

создавать большое количество партиций
использовать дефолтную партицию (она всегда просматривается при выполнении любого запроса)
использовать многоуровневое партиционирование (обычно приводит к созданию большого количества партиций)
НИКОГДА не использовать секционирование по столбцу, который является ключом дистрибьюции
не создавать слишком много партиций при колоночной ориентации (количество_физических_файлов = сегменты * столбцы * партиции)

* Что такое MPP-архитектура?
mpp - значит что память физически разделена между нодами, объединенными в кластер. СУБД Гринплам - это несколько бд postgresql, объединенных в кластер,
где каждый узел кластера имеет свою память, ос и жесткие диски.

* Какие индексы существуют в GP? 
btree (сбалансированное дерево):

используется по умолчанию
операции сравнения (><=)
between
is null, is not null
like

bitmap (двоичная карта):

мало уникальных значений, много повторений (низкая кардинальность)
read чаще чем update (не oltp)
в условиях когда в WHERE используются OR/AND с полями с таким индексом

gist (особый btree индекс, применяется для редких типов данных):

геоданные
текстовые документы
графические файлы

В GreenPlum индексы надо использовать с осторожностью. Потому что:

данные быстро читаются даже без индексов, благодаря сегментам и партиционированию
аналитические запросы могут возвращать большой объем данных. Большой объем данных снижает эффективность индекса
индексы занимают дополнительное место
вставка данных в индексированную таблицу выполняется намного дольше

Рекомендации:

применять другие способы оптимизации. Применение индексов в DWH должна выполняться в последнюю очередь
индексы подходят для близкой OLTP-нагрузке (частый выбор небольшого числа строк с WHERE)
уменьшая стоимость запроса (random_page_cost), можно форсировать использование индекса планировщиком
если данные в таблице сжаты, то запрос к такой таблице с использованием индекса будет разжимать только те строки, которые запрашиваются, что может сэкономить время и ресурсы процессора
при загрузке данных в таблицу с индексами удалите индексы, загрузите данные, затем создайте индексы заново
для часто обновляемых таблиц снижайте значение коэффициента заполнения индекса FILLFACTOR. Этот параметр определяет степень заполненности блоков данных таблиц на диске и связан со скоростью и компактностью записи

* Какие виды таблиц по хранению данных бывают в GP? 
Методы хранения

HEAP - используется по умолчанию. Строковая ориентация. Унаследован из Postgresql.

Подходит:

для небольших таблиц ( < 300 000 строк или < 100 мб)
частые изменения данных (update, delete)
единичные операции вставки (insert)
параллельные операции обновления / удаление / вставка (OLTP нагрузка)

APPEND_OPTIMIZED.

Возможности:

можно выбирать ориентацию (строковую или колоночную)
можно сжимать применяя различные алгоритмы компрессии
менее ресурсоемкие в обслуживании (например, сбор статистики може быть выполнен инкрементально и, таким образом, быстрее)

Ограничения:

подходит только для данных, которые редко изменяются. При этом вставка этих данных происходит batch-ами
заметный прирост производительности проявляется только на больших таблицах
не поддерживает INDEX UNIQUE, PRIMARY KEY

Когда рекомендуют выбирать:

для таблиц, которые содержат много данных. Как правило это таблицы фактов
для таблиц, которые создаются однажды и далее к ним вополняются запросы или добавляются данные batch-ами (OLAP нагрузка)

Доступна как строковая так и колоночная ориентация.

ROW - для таблиц над которыми производятся:

множественные обновления
частые операции вставки
частая выборка одновременно большого количества столбцов (наприер SELECT *)

COLUMN - для таблиц:

при выборке используется малое количество столбцов
выполняются агрегирующие операции над малым количеством столбцов
есть единичные столбцы, которые часто обновляются без изменения остальных значений в строке

* Какими методами можно подключать внешние таблицы? 
 в Greenplum есть внешние (external) и сторонние (foreign) таблицы

* Какой порт используется по умолчанию для подключения к БД?
порт 5432