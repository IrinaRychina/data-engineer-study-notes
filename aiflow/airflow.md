> source https://halltape.github.io/HalltapeRoadmapDE/QUESTION/AirFlow/

Вопросы по AriFlow.

* Из каких основных частей состоит AirFlow?
Scheduler, webserver, metadata databse, executor, dag proccesor, optional - worker, triggerer, plugins

* Какие операторы вы знаете? 
PythonOperator, BashOperator, EmailOperator, HttpOperator, 

* Что такое сенсер и для чего он нужен?
Это оператор, который нужен для отслеживания какого-либо события.
Например, появления файла - FileSensor, наступления внешнего события такого, как завершение задачи в спарк SparkKubernetesSensor.


* Таска в AirFlow упала с ошибкой, как сделать так, чтобы не смотря на ошибку, следующая таска запустилась? 
Установить для дага соотвествующий параметр trigger_rule="all_done". Этот параметр устанавливает такое поведение: downstream task будет выполнена, если upstream_task имеет любой статус - success/failed/skipped.
В противоположность есть значением trigger_rule="all_success", при котором все upstream таски должны завершиться успешно.

* Как в AirFlow в зависимости от условия, продолжить обработку по нужной ветке ДАГа?
для этого можно использовать оператор BranchPythonOperator, который в зависимости от условия может направить граф по одному или другому пути.
Для этого внутри оператора надо задать условие if и для каждого варианта прописать какой таск возврващается из оператора BranchPythonOperator.

* Что такое XCOM? 
это cross comunication - механизм, который позволяет передавать данные между тасками. Можно передать id, результат выполнения таска или ссылку, но не нужно передавать большие данные, так как xcom для этого не предназначен.

* Какие базы данных используется в Airflow? 
postgresSQL может быть использована как metadata database в airflow, она используется в docker compose с официального сайта airflow.
Также могут использоваться другие бд, например, MYSQL, SQLLite (только для локальной разработки, так как не достаточно надежна для больших данных).

* Чем отличается Celery Executor и local executor?
Celery Executor используется для запуске задач на нескольких воркерах для распределенной обработки задач, local executor запускает несколько процессов на одной машине.

